<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>mykonakona</title>
  
  <subtitle>Just Another Weblog</subtitle>
  <link href="http://mykonakona.github.io/atom.xml" rel="self"/>
  
  <link href="http://mykonakona.github.io/"/>
  <updated>2023-09-01T16:23:41.886Z</updated>
  <id>http://mykonakona.github.io/</id>
  
  <author>
    <name>mykonakona</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>为Hexo博客添加PWA
</title>
    <link href="http://mykonakona.github.io/posts/2023-09-01/"/>
    <id>http://mykonakona.github.io/posts/2023-09-01/</id>
    <published>2023-09-01T06:12:35.000Z</published>
    <updated>2023-09-01T16:23:41.886Z</updated>
    
    <content type="html"><![CDATA[<html><head></head><body><p>不要再装那些Hexo的PWA插件了。</p><span id="more"></span><p>为Hexo博客添加PWA支持，主要分两部分：</p><h2 id="准备manifest"><a href="#准备manifest" class="headerlink" title="准备manifest"></a>准备manifest</h2><h3 id="制作图标"><a href="#制作图标" class="headerlink" title="制作图标"></a>制作图标</h3><ul><li>制作各种大小的图标并存放在source/images/icons下。</li></ul><h3 id="新增manifest-json"><a href="#新增manifest-json" class="headerlink" title="新增manifest.json"></a>新增manifest.json</h3><ul><li><p>在hexo的source目录下添加一个manifest.json，内容类似：</p> <figure class="highlight json hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-punctuation">{</span></span><br><span class="line">   </span><br><span class="line">   &nbsp; &nbsp; <span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"mykonakona"</span><span class="hljs-punctuation">,</span></span><br><span class="line">   &nbsp; &nbsp; <span class="hljs-attr">"short_name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"mykonakona"</span><span class="hljs-punctuation">,</span></span><br><span class="line">   &nbsp; &nbsp; <span class="hljs-attr">"theme_color"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"#222f3e"</span><span class="hljs-punctuation">,</span></span><br><span class="line">   &nbsp; &nbsp; <span class="hljs-attr">"background_color"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"#18222d"</span><span class="hljs-punctuation">,</span></span><br><span class="line">   &nbsp; &nbsp; <span class="hljs-attr">"display"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"standalone"</span><span class="hljs-punctuation">,</span></span><br><span class="line">   &nbsp; &nbsp; <span class="hljs-attr">"scope"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"/"</span><span class="hljs-punctuation">,</span></span><br><span class="line">   &nbsp; &nbsp; <span class="hljs-attr">"start_url"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"/"</span><span class="hljs-punctuation">,</span></span><br><span class="line">   &nbsp; &nbsp; <span class="hljs-attr">"icons"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span></span><br><span class="line">   &nbsp; &nbsp; &nbsp; &nbsp; <span class="hljs-punctuation">{</span></span><br><span class="line">   &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="hljs-attr">"src"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"/images/icons/icon-48x48.png"</span><span class="hljs-punctuation">,</span></span><br><span class="line">   &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="hljs-attr">"sizes"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"48x48"</span><span class="hljs-punctuation">,</span></span><br><span class="line">   &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="hljs-attr">"type"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"image/png"</span><span class="hljs-punctuation">,</span></span><br><span class="line">   &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="hljs-attr">"purpose"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"any maskable"</span></span><br><span class="line">   &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span></span><br><span class="line">   &nbsp; &nbsp; &nbsp; &nbsp; ...</span><br><span class="line">   &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="hljs-punctuation">{</span></span><br><span class="line">   &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="hljs-attr">"src"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"/images/icons/icon-512x512.png"</span><span class="hljs-punctuation">,</span></span><br><span class="line">   &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="hljs-attr">"sizes"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"512x512"</span><span class="hljs-punctuation">,</span></span><br><span class="line">   &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="hljs-attr">"type"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"image/png"</span><span class="hljs-punctuation">,</span></span><br><span class="line">   &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="hljs-attr">"purpose"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"any maskable"</span></span><br><span class="line">   &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="hljs-punctuation">}</span></span><br><span class="line">   &nbsp; &nbsp; &nbsp;<span class="hljs-punctuation">]</span></span><br><span class="line">   </span><br><span class="line"><span class="hljs-punctuation">}</span></span><br></pre></td></tr></tbody></table></figure></li></ul><p>图标与json也可以通过类似<a href="https://tools.crawlink.com/tools/pwa-icon-generator">PWA Application Icon Generator Free Online Tool</a>的在线工具生成。</p><h3 id="修改标签"><a href="#修改标签" class="headerlink" title="修改<head>标签"></a>修改&lt;head&gt;标签</h3><ul><li><p>修改所用hexo主题的模板文件，在head.ejs添加：</p> <figure class="highlight html hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"theme-color"</span> <span class="hljs-attr">content</span>=<span class="hljs-string">"#222f3e"</span>/&gt;</span></span><br><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">link</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">"manifest"</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"/manifest.json"</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><p> 这里<code>theme-color</code>的<code>content</code>值与manifest.json内的值相同。</p></li></ul><h2 id="准备Service-Worker"><a href="#准备Service-Worker" class="headerlink" title="准备Service Worker"></a>准备Service Worker</h2><h3 id="新增service-worker-js"><a href="#新增service-worker-js" class="headerlink" title="新增service-worker.js"></a>新增service-worker.js</h3><ul><li><p>在hexo的source目录下新建一个sw.js文件（需要将正则处的mykonakona.github.io替换为自己的网址）：</p> <figure class="highlight javascript hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">importScripts(<span class="hljs-string">'https://cdnjs.cloudflare.com/ajax/libs/workbox-sw/7.0.0/workbox-sw.js'</span>);</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">if</span> (workbox) {</span><br><span class="line"></span><br><span class="line">&nbsp; &nbsp; workbox.<span class="hljs-property">precaching</span>.<span class="">precache</span>([<span class="hljs-string">'/'</span>, <span class="hljs-string">'/index.html'</span>]);</span><br><span class="line">&nbsp; &nbsp; </span><br><span class="line">&nbsp; &nbsp; workbox.<span class="hljs-property">routing</span>.<span class="">registerRoute</span>(<span class="hljs-keyword">new</span> <span class="">RegExp</span>(<span class="hljs-string">'^https?://mykonakona.github.io/?$'</span>), <span class="hljs-keyword">new</span> workbox.<span class="hljs-property">strategies</span>.<span class="">NetworkFirst</span>());</span><br><span class="line">&nbsp; &nbsp; </span><br><span class="line">&nbsp; &nbsp; workbox.<span class="hljs-property">routing</span>.<span class="">registerRoute</span>(<span class="hljs-keyword">new</span> <span class="">RegExp</span>(<span class="hljs-string">'.*.html'</span>), <span class="hljs-keyword">new</span> workbox.<span class="hljs-property">strategies</span>.<span class="">NetworkFirst</span>());</span><br><span class="line">&nbsp; &nbsp; </span><br><span class="line">&nbsp; &nbsp; workbox.<span class="hljs-property">routing</span>.<span class="">registerRoute</span>(<span class="hljs-keyword">new</span> <span class="">RegExp</span>(<span class="hljs-string">'.*.(?:js|css|jpg|png|gif)'</span>), <span class="hljs-keyword">new</span> workbox.<span class="hljs-property">strategies</span>.<span class="">StaleWhileRevalidate</span>());</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure></li></ul><p>NetworkFirst()与StaleWhileRevalidate()的使用，可参考<a href="https://github.com/GoogleChrome/workbox">workbox</a>的相关文档与教程。</p><h3 id="注册service-worker"><a href="#注册service-worker" class="headerlink" title="注册service-worker"></a>注册service-worker</h3><p>修改所用hexo主题的模板文件，在footer后的style.ejs添加注册service-worker的代码段：</p>   <figure class="highlight html hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="hljs-language-javascript"></span></span><br><span class="line"><span class="hljs-language-javascript">&nbsp; &nbsp; <span class="hljs-keyword">if</span> (navigator.<span class="hljs-property">serviceWorker</span>) {</span></span><br><span class="line"><span class="hljs-language-javascript">&nbsp; &nbsp; navigator.<span class="hljs-property">serviceWorker</span>.<span class="">register</span>(<span class="hljs-string">'/sw.js'</span>);</span></span><br><span class="line"><span class="hljs-language-javascript">}</span></span><br><span class="line"><span class="hljs-language-javascript"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure><h3 id="设置不渲染"><a href="#设置不渲染" class="headerlink" title="设置不渲染"></a>设置不渲染</h3><ul><li><p>在hexo的_config.yml里，设置不渲染manifiest.json及sw.js：</p> <figure class="highlight html hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">skip_render:</span><br><span class="line">&nbsp;- manifest.json</span><br><span class="line">&nbsp;- sw.js</span><br></pre></td></tr></tbody></table></figure></li></ul><h2 id="小结"><a href="#小结" class="headerlink" title="小结"></a>小结</h2><p>PWA其实用处不大，添加这个主要是为了跑<a href="https://mykonakona.github.io/posts/2023-08-29/">Lighthouse得分</a>。过程中意识到Hexo确实用的人越来越少了：很多插件缺乏维护，照搬文档还不如手工添加。</p><p>硬着头皮补课，网上的sw.js例子调试时报错频频。发现是因为最新的workbox-sw.js里，函数命名从<a href="https://zh.wikipedia.org/zh-hans/%E9%A7%9D%E5%B3%B0%E5%BC%8F%E5%A4%A7%E5%B0%8F%E5%AF%AB">小驼峰式</a>改成了大驼峰式。比如旧版本例子里的networkFist()如今都变成了NetworkFirst()。看来谷歌也要面对项目管理问题……</p><p>这个简单教程还是有一些前提的，比如PWA需要https支持等，这里不再赘述。</p></body></html>]]></content>
    
    
    <summary type="html">不要再装那些hexo的PWA插件了。</summary>
    
    
    
    
    <category term="静态博客" scheme="http://mykonakona.github.io/tags/%E9%9D%99%E6%80%81%E5%8D%9A%E5%AE%A2/"/>
    
    <category term="Hexo" scheme="http://mykonakona.github.io/tags/Hexo/"/>
    
    <category term="PWA" scheme="http://mykonakona.github.io/tags/PWA/"/>
    
    <category term="Service Worker" scheme="http://mykonakona.github.io/tags/Service-Worker/"/>
    
  </entry>
  
  <entry>
    <title>如何添加Lighthouse徽章
</title>
    <link href="http://mykonakona.github.io/posts/2023-08-29/"/>
    <id>http://mykonakona.github.io/posts/2023-08-29/</id>
    <published>2023-08-29T07:25:50.000Z</published>
    <updated>2023-09-01T16:23:41.886Z</updated>
    
    <content type="html"><![CDATA[<html><head></head><body><p>其实一句话就可以结束，去用<a href="https://github.com/emazzotta/lighthouse-badges">lighthouse-badges</a>。</p><span id="more"></span><h2 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h2><p>但这么说可能会使人一头雾水，lighthouse-badges是干什么的？</p><p>先看前面的这个lighthouse，它是谷歌开发的开源工具，目的是为了促进站点页面质量的提高。</p><p>再看后面的这个badge，badge就是徽章的意思，一个常见的例子是Github的<a href="https://docs.github.com/en/actions/monitoring-and-troubleshooting-workflows/adding-a-workflow-status-badge">工作流状态徽章</a>：</p><p><img src="https://github.com/mykonakona/mykonakona.github.io/actions/workflows/github-actions.yml/badge.svg" alt="example workflow"></p><p>在很多Github Page项目的README.md中，都会放入一个这种徽章来显示当前Github Actions的部署状态。类似的徽章还有npm版本号、下载数等。</p><h2 id="步骤"><a href="#步骤" class="headerlink" title="步骤"></a>步骤</h2><p>用户可以通过以下操作得到自己的徽章：</p><ol><li><p>安装Chrome浏览器；</p></li><li><p>运行以下命令:</p><figure class="highlight bash hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm i -g lighthouse-badges</span><br><span class="line">lighthouse-badges --url https://www.youtube.com/ -o test_results</span><br></pre></td></tr></tbody></table></figure></li><li><p>拷贝<code>test_results</code>内的svg文件到项目的某个目录下（如Hexo的<code>./source/images/test_results/</code>）；</p></li><li><p>插入以下内容至README.md（以Hexo为例）：</p><figure class="highlight markdown hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">[<span class="hljs-string">![Lighthouse Accessibility Badge</span>](<span class="hljs-link">./source/images/test_results/lighthouse_accessibility.svg</span>)](<span class="hljs-link">https://github.com/emazzotta/   lighthouse-badges</span>)</span><br><span class="line"></span><br><span class="line">[<span class="hljs-string">![Lighthouse Best Practices Badge</span>](<span class="hljs-link">./source/images/test_results/lighthouse_best-practices.svg</span>)](<span class="hljs-link">https://github.com/   emazzotta/lighthouse-badges</span>)</span><br><span class="line"></span><br><span class="line">[<span class="hljs-string">![Lighthouse Performance Badge</span>](<span class="hljs-link">./source/images/test_results/lighthouse_performance.svg</span>)](<span class="hljs-link">https://github.com/emazzotta/   lighthouse-badges</span>)</span><br><span class="line"></span><br><span class="line">[<span class="hljs-string">![Lighthouse PWA Badge</span>](<span class="hljs-link">./source/images/test_results/lighthouse_pwa.svg</span>)](<span class="hljs-link">https://github.com/emazzotta/lighthouse-badges</span>)</span><br><span class="line"></span><br><span class="line">[<span class="hljs-string">![Lighthouse SEO Badge</span>](<span class="hljs-link">./source/images/test_results/lighthouse_seo.svg</span>)](<span class="hljs-link">https://github.com/emazzotta/lighthouse-badges</span>)</span><br></pre></td></tr></tbody></table></figure></li></ol><p>类似的库还有<a href="https://github.com/ankurparihar/readme-pagespeed-insights">readme-pagespeed-insights</a>。</p><h2 id="小结"><a href="#小结" class="headerlink" title="小结"></a>小结</h2><p>在<a href="https://developer.chrome.com/docs/lighthouse/overview/">Lighthouse</a>或<a href="https://pagespeed.web.dev/">PageSpeed Insights</a>的测试中跑高分，一开始或许是为了改善浏览体验，到后来反而变成一种个人兴趣。</p><p>这种转变本质上还是对<a href="https://mykonakona.github.io/posts/2020-05-27/">我搭静态博客</a>里的理念的坚持，是对功能臃肿和访问拖慢的不容忍。</p><p>简洁、快速、易读，这才是静态博客应有之义。</p></body></html>]]></content>
    
    
    <summary type="html">其实一句话就可以结束，去用lighthouse-badges。</summary>
    
    
    
    
    <category term="静态博客" scheme="http://mykonakona.github.io/tags/%E9%9D%99%E6%80%81%E5%8D%9A%E5%AE%A2/"/>
    
    <category term="markdown" scheme="http://mykonakona.github.io/tags/markdown/"/>
    
  </entry>
  
  <entry>
    <title>我的笔记工作流
</title>
    <link href="http://mykonakona.github.io/posts/2023-08-27/"/>
    <id>http://mykonakona.github.io/posts/2023-08-27/</id>
    <published>2023-08-27T13:31:18.000Z</published>
    <updated>2023-09-01T16:23:41.886Z</updated>
    
    <content type="html"><![CDATA[<html><head></head><body><p>玩笔记软件算是赶时髦，但改变混乱无序工作状态的诱惑确实巨大。</p><span id="more"></span><h2 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h2><p>在分享之前必须说明，我并不是一个经常记各种笔记的人，平时的阅读、记录或者写作都是比较散漫的。所以尽管阅读量并不小，但是因为缺乏提炼，导致日常的口头和文字表达常会出现啰嗦、逻辑不清的情况。</p><p>相比网友们顺其自然的管理，我对笔记的使用更像是一种为记而记的学习。通过强制自己使用笔记、稍后读这类软件及服务，我的表达欲有了一定的提升，思维和表达相比以前也更加清晰，为自身带来了明显的改变。</p><p>因此，我决定将还在摸索阶段的我个人的笔记工作流记录下来，供大家参考。</p><h2 id="核心链条"><a href="#核心链条" class="headerlink" title="核心链条"></a>核心链条</h2><p>我把我的知识管理流程分为三个阶段：</p><ul><li>收集——整理——提炼</li></ul><p>需要说明的是，并非是先根据这三个阶段来规划后续的工具使用，而是根据试用体验，精简了工具选型，再从实际的工具使用中反推出这三个阶段。</p><h2 id="用哪款笔记软件？"><a href="#用哪款笔记软件？" class="headerlink" title="用哪款笔记软件？"></a>用哪款笔记软件？</h2><p>工具选型首先从最主要的笔记软件看起。笔记软件应当成为整个知识管理流程中使用时间最长的工具，也是整个流程中使用到的工具的核心。</p><p>我曾是很长时间的国区Evernote用户，Notion也使用过一段时间。这次为了捋顺整个流程，还把Logseq、wolai等等都用了个遍。表面上看市面上可用的笔记软件非常非常多，但在明确了自己的需求后，会发现完全满足的几乎没有。</p><p>这些笔记软件中，最有实力的我认为还是Notion，但我最后还是决定使用Obsidian，选择的理由其实完全是基于对后续使用的规划：</p><ul><li>一个不常使用笔记的人，要建立起用笔记的习惯，首先需要的是启动速度快。Obsidian在笔记量比较少的时候，启动比起需要联网的Notion快得多；</li><li>基于网络服务的笔记软件很像是一个私有仓库的博客，有停运的风险。Obsidian同步可能得需要我去把文件夹挂载到某个网盘上，确实不那么酷。但搭配rclone后可以实现多副本，不用特地进行手动备份，也不用担心停运；</li><li>另一个原因比较个人：Notion的各种功能做得太好了，让我忍不住想去使用、研究，消耗了很多时间。Obsidian的功能也不少，但是功能上的易用性不如Notion，而且往往是以一种兴趣小组布道式的方式来推广，门槛高。不以折腾为目的话，反而可以老老实实地专注在记录本身上。</li></ul><p>只基于这些原因，似乎也没必要选用Obsidian。要想速度快，打开Notepad不是更快？但笔记软件的使用生态对于菜鸟来说也很重要。有相当的用户支持才能提高使用体验。</p><p>另外，除了这些理由，选择Obsidian还与我对稍后读的使用有关。</p><h2 id="稍后读怎么用？"><a href="#稍后读怎么用？" class="headerlink" title="稍后读怎么用？"></a>稍后读怎么用？</h2><p>稍后读服务其实并不新鲜。</p><p>Pocket毫无疑问是把这个概念发扬光大的APP，但在各家云笔记推出自己的Web Clipper服务之后，现在恐怕没有多少人会去用Pocket。但稍后读也在这个过程中逐渐具备了资料中转的属性。</p><p>发展到今天，用户已经可以选择cubox、剪藏等功能已经非常完备的服务。但这类服务的一大问题是服务器架设在国内。内容审查的风险虽然很低，但总不能自己先主动审查一遍来避免可能的麻烦吧。对我而言只是为了避免这种可能性，因此我使用开源的Omnivore。</p><p>Omnivore目前还并不成熟，不少用户反馈内容抓取其实是不如Pocket的。但它的优势是可以通过Obsidian插件将高亮、笔记内容同步到Obsidian去。这件事cubox也能干（同步到Notion）但cubox毕竟还是在国内。</p><p>现在，只要是网络上我认为有价值的内容，我都会集中收集到Omnivore里。在Omnivore里完成标签，高亮、笔记工作。最后推送到Obsidian。</p><p>Omnivore完成收集——整理——提炼这个链条的前半段，将信息流推送给Obsidian，通过<a href="https://zhuanlan.zhihu.com/p/360599265" title="用Obsidian实现Zettelkasten看这一篇就够了（上）">在Obsidian中实践ZK理念</a>，完成链条后半段的工作。</p><h2 id="巧用Front-Matter"><a href="#巧用Front-Matter" class="headerlink" title="巧用Front Matter"></a>巧用Front Matter</h2><p>为了黏合这这个过程，需要将将资料和笔记的格式统一起来。例如，Omnivore收集的资料导入Obsidian时，使用的<a href="https://docs.omnivore.app/integrations/obsidian.html#front-matter" title="Sync all your reading to Obsidian ">Front Matter</a>为：</p><figure class="highlight markdown hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">id: {{{id}}}</span><br><span class="line">title: &gt;</span><br><span class="line">  {{{title}}}</span><br><span class="line">{{#author}}</span><br><span class="line">author: &gt;</span><br><span class="line">  {{{author}}}</span><br><span class="line">{{/author}}</span><br><span class="line">{{#labels.length}}</span><br><span class="line">tags:</span><br><span class="line">{{#labels}} - {{{name}}}</span><br><span class="line">{{/labels}}</span><br><span class="line">{{/labels.length}}</span><br><span class="line">description: {{{description}}}</span><br><span class="line">{{#datePublished}}</span><br><span class="line">date<span class="hljs-emphasis">_published: {{{datePublished}}}</span></span><br><span class="line"><span class="hljs-emphasis">{{/datePublished}}</span></span><br><span class="line"><span class="hljs-emphasis">date_</span>saved: {{{dateSaved}}}</span><br><span class="line">origin<span class="hljs-emphasis">_url: {{{originalUrl}}}</span></span><br></pre></td></tr></tbody></table></figure><p>而在Obsidian里，所有的笔记新建我们都通过Obsidian的<code>创建时间戳笔记</code>来发起。时间戳笔记的格式均遵循以下模板：</p><figure class="highlight markdown hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">id: </span><br><span class="line">title: |</span><br><span class="line">  title</span><br><span class="line">author: |</span><br><span class="line">  me</span><br><span class="line">tags:</span><br><span class="line"><span class="hljs-bullet"> -</span> tag</span><br><span class="line">description: </span><br><span class="line">date<span class="hljs-emphasis">_published: </span></span><br><span class="line"><span class="hljs-emphasis">date_</span>saved: null</span><br><span class="line"><span class="hljs-section">origin<span class="hljs-emphasis">_url: null</span></span></span><br><span class="line"><span class="hljs-emphasis"><span class="hljs-section">---</span></span></span><br></pre></td></tr></tbody></table></figure><p>同时，对Obsidian中时间戳笔记和Omnivore插件进行配置，统一新建笔记的命名规则为<code>yyyyMMDDHHmmss</code>。</p><p>这时，不论是同步过来的资料还是新增的笔记，都做到了元数据和格式上的尽可能地统一。这种做法的优势在于，笔记的元数据整理起来很轻松，且能够几乎无缝地发布到博客上，节省了大量的时间。</p><h2 id="随手记的问题"><a href="#随手记的问题" class="headerlink" title="随手记的问题"></a>随手记的问题</h2><p>这套流程并非没有缺点。虽然从经济成本上它不需要使用任何付费服务，但伴随的问题就是<a href="https://forum-zh.obsidian.md/t/topic/15659" title="建议官方内置memos插件，完善随手记碎碎念功能">对于随手记没有很好的解决方案</a>。</p><p>电脑上还可以打开软件生成一条时间戳笔记进行记录，移动端就很难解决了。随手记的导入和移动端适配仿佛是鱼和熊掌。尤其是苹果生态和安卓生态的不统一，使得这个问题很难有一个多平台适配的答案。</p><p>一种解决方式是搭建<a href="https://github.com/usememos/memos" title="A privacy-first, lightweight note-taking service. Easily capture and share your great thoughts. ">memos服务器</a>再通过<a href="https://github.com/catnu/obsidian-memos-fetch" title="obsidian plugin to pull memos. Contribute to catnu/obsidian-memos-fetch development by creating an account on GitHub.">插件</a>导入，这对NAS用户其实挺友好的。或者通过其他服务（如flomo）来接管，但最后<a href="https://forum-zh.obsidian.md/t/topic/20120/3" title="各司其职：Flomo,Obsidian的联动使用">flomo与Obsidian的联动</a>还是需要手动完成，无法方便地一键导入。</p><p>后续我大概会采用一个很笨的方法：</p><ul><li>使用iPhone上的熊掌记；</li><li>日常的随手记通过手机的桌面组件进入后统一记录在一个文件里；</li><li>定期通过熊掌记的markdown格式导出功能把随手记手动同步到Onedrive上的Obsidian文件夹里。</li></ul><h2 id="小结"><a href="#小结" class="headerlink" title="小结"></a>小结</h2><p>到此为止，回头再看整个过程，各个环节基本上都有了对应的解决方案。到此我对构建自己的笔记工作流的探索告一段落了。</p><p>我的方案并不完美，或许在今后的使用中，还会放弃许多今天的构想或者使用的工具。但比起用什么样的工具，我认为更重要的还是需求为本、做减法的思维方式以及自底向上的实践做法。</p><p>对我而言，这些指导思想或许已经在我的知识管理入门中发挥着潜移默化的作用。</p></body></html>]]></content>
    
    
    <summary type="html">相比网友们顺其自然的管理，我对笔记的使用更像是一种为记而记的学习。但过程中我也发现，通过强制自己使用笔记、稍后读这类软件及服务，我的表达欲有了一定的提升，思维和表达相比以前也更加清晰，为自身带来了明显的改变。因此，我决定将还在摸索阶段的我个人的笔记工作流记录下来，供大家参考。</summary>
    
    
    
    
    <category term="知识管理" scheme="http://mykonakona.github.io/tags/%E7%9F%A5%E8%AF%86%E7%AE%A1%E7%90%86/"/>
    
    <category term="Obsidian" scheme="http://mykonakona.github.io/tags/Obsidian/"/>
    
    <category term="Omnivore" scheme="http://mykonakona.github.io/tags/Omnivore/"/>
    
  </entry>
  
  <entry>
    <title>miui验证不了邮箱IMAP怎么办
</title>
    <link href="http://mykonakona.github.io/posts/2022-11-22/"/>
    <id>http://mykonakona.github.io/posts/2022-11-22/</id>
    <published>2022-11-22T09:08:00.000Z</published>
    <updated>2023-09-01T16:23:41.886Z</updated>
    
    <content type="html"><![CDATA[<html><head></head><body><p>手机上使用Outlook接管QQ邮箱或者163邮箱，需要手动开启邮箱的IMAP。</p><span id="more"></span><p>目前国内邮箱开启IMAP的做法是要求用户发一条指定内容的短信到指定号码进行验证，以获得腾讯或网易生成的授权码。</p><h2 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h2><p>我的163邮箱在这个环节可以正常发送、验证，但QQ邮箱通过密保手机发送短信时就会弹出如下提示：</p><p><img src="/images/2022-11-22-alert.PNG" alt="“您发送的短信内容有误”"></p><p>核对了多遍，也没有发现内容哪里有误</p><p><img src="/images/2022-11-22-message.PNG" alt="实发短信内容无误"></p><h2 id="疑惑"><a href="#疑惑" class="headerlink" title="疑惑"></a>疑惑</h2><p>通过QQ邮箱的<a href="https://open.mail.qq.com/feedback/feedbackhome#/">反馈建议</a>提交了一个工单上去，QQ对这个问题的答复是：</p><blockquote><p>你好，出现这种情况一般有可能：用户手机终端本身没有把这个短信成功发送出来，请检查自己的手机状态是否正常，建议： 1、致电运营商客服电话，询问是否被禁止了端口短信功能/增值业务 网关（也叫做SP开关）； 2、发送短信到备用接收号码重试； 3、发送短信时去掉+86重试发送； 4、确认是否有发送扣费记录，若扣费成功，请提供【扣费记录截图】、【发送短信手机号（密保手机号）】、【发送短信时间】给我们，若没有扣费成功，请联系运营商，感谢配合！</p></blockquote><ul><li>第一点，肯定不可能，因为我的手机刚刚还在163邮箱那边成功打开了，应该不存在这个问题；</li><li>第二点，实际测试了一下，也可以正常发送接收；</li><li>第三点，看手机的短信页面，是不带86的；</li><li>第四点，短信查询余额，确实有扣费。</li></ul><p>这时变得有点像在做一道选择题，需要选出错误的选项，但所有选项看起来都是对的。</p><h2 id="解决"><a href="#解决" class="headerlink" title="解决"></a>解决</h2><p>这时候只能回过头来看选项了，感觉最大的可能还是出在+86这里。</p><p>于是去电信查询详单，号码确实有问题：</p><p><img src="/images/2022-11-22-detail.PNG" alt="+86"></p><p>但手机上是没有显示+86的，那一定是有某个设置自行进行了添加。在仔细观察后我注意到了手机上的这个配置：</p><p><img src="/images/2022-11-22-GSM-alphabet.jpg" alt="GSM-alphabet"></p><p>关掉这一选项并重新发送短信，验证正常通过。我想原因可能是因为在miui.eu上使用<a href="https://melroselabs.com/docs/reference/sms/gsm-alphabet/">GSM alphabet</a>这个选项的话，会先把号码拼接上+86后再做短信的发送，所以虽然发短信时手输的号码不带+86，但查询的结果显示是加上+86的。</p><h2 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h2><p>在解决的过程中，我也突然想到有没可能通过安装<a href="https://www.foxmail.com/">Foxmail</a>客户端来开启IMAP，得到了一个很奇怪的结果：安装完成后进入默认的登录选项，会要求手动配置IMAP，这时输入框是无法填写的灰色：这很好理解，因为邮箱设置里IMAP也是没有开启的状态，不给登录也很正常。</p><p>但是如果用QQ扫码登录，无需配置便可以正常通过Foxmail客户端使用邮箱。此时通过网页端查看，邮箱的IMAP设置依然是关闭的（但不知什么原因exchange设置好像给打开了）。</p></body></html>]]></content>
    
    
    <summary type="html">使用第三方客户端登录QQ邮箱或者163邮箱，都需要手动开启邮箱的IMAP。目前国内邮箱开启IMAP的做法是要求用户发一条指定内容的短信到指定号码进行验证，以获得腾讯或网易生成的授权码。</summary>
    
    
    
    
    <category term="数码" scheme="http://mykonakona.github.io/tags/%E6%95%B0%E7%A0%81/"/>
    
    <category term="miui" scheme="http://mykonakona.github.io/tags/miui/"/>
    
  </entry>
  
  <entry>
    <title>一次失败的刷剧经历
</title>
    <link href="http://mykonakona.github.io/posts/2022-02-10/"/>
    <id>http://mykonakona.github.io/posts/2022-02-10/</id>
    <published>2022-02-10T02:14:00.000Z</published>
    <updated>2023-09-01T16:23:41.886Z</updated>
    
    <content type="html"><![CDATA[<html><head></head><body><p>很久不追剧了，但直到1202年的这个冬天我发现看个剧还是一件很难的事情。</p><span id="more"></span><h2 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h2><p>之前gf想看《机智医生生活》第一季，因为这部剧没有引进，我自己的VPS当时还没做解锁，Netfilx只能看自制。只能四处帮她找下载。</p><p>找的过程中有一个感受：虽然追看韩剧的群体很庞大，但在国内看韩剧的体验实在不能算好。对这部剧，我个人觉得最方便省心地观看方式还是通过Netflix，无论是画质还是翻译质量都有相当保障。</p><p>但是国内看Netflix有多难大家都知道了，不仅需要购买DRM认证的专用设备（电视或电视盒），还需要解决机场或VPS搭建以及流媒体解锁等问题。对于只是想单纯刷剧，不太具备相关计算机知识的网友，基本上无人能在这一套折腾下坚持到成功收看。大部分人还是只能指望字幕组大善人通过发布资源的方式看剧。</p><p>字幕组发布的资源存在的一个最大问题就是画质。本身这种熟肉基本上都是内嵌字幕，注定要经过一轮压制，加上源本身可能不够高清，或者是考虑到小体积易于传播，所以画质会被压缩得更厉害。</p><p>所以我一开始的思路想找一找外挂字幕，源则通过一些PT站的发布资源解决。果然PT上的资源画质相当不错，但另一个问题来了，外挂字幕有是有，但是和我下载的这个源匹配不上，这可如何是好。</p><h2 id="希望"><a href="#希望" class="headerlink" title="希望"></a>希望</h2><p>我研究了一下手头上搜到的几个外挂字幕，一个是某国内字幕组为这部剧制作的ass字幕，这个字幕如果在我的plex上播放，需要经过一轮转换。由于plex的先天不足，转换后播放的速度会变得极慢，所以如果要用这个字幕，需要先进行一步ass转srt的工作。但由于这个字幕使用了特殊字体和一些特效，导致转换后的srt效果很差，再加上这个字幕时间轴本来也和我手头这个源不大对得上，所以还是pass掉了这个字幕。</p><p>第二个字幕是一个国内资源分享群发布的，惊喜地发现时间轴似乎是能对得上，但是前四集没有。完美主义发作下这个字幕也先搁置起来了。</p><p>第三个字幕是在国外网站上发布的一个Netflix源的字幕，我发现这个字幕似乎与第二个字幕一模一样，内容上唯一不同的是Netflix的字幕会在结尾标上译者的名字，第二个字幕可能是不想别人发现自己是直接拿来的，所以把这个信息给抹了（笑）。开始感觉离成功有点近了。</p><h2 id="绝望"><a href="#绝望" class="headerlink" title="绝望"></a>绝望</h2><p>接下来要做的就是想办法怎么把时间轴对准确，但实在不想花太多时间用软件一个一个去校准。我大致对比了一下第三个字幕和第二个字幕，感觉第二个字幕有点像是把第三个字幕整体延迟了11秒左右。</p><p>于是问题变成了有没有这样一个工具能够做到对srt的时间轴做整体的修改。结果还真发现了这样一个简陋的在线工具：<a href="https://subtitletools.com/subtitle-sync-shifter">subtitle-sync-shifter</a></p><p>当我做完字幕，以为这一切都尘埃落定的时候，现实又教我做人了。我坐在沙发度过了愉快的前20分钟，画质清晰，体验与Netflix相差无几，然而在二十分钟后，字幕开始对不上画面，每一句台词都开始先于角色出现在银幕里。我意识到，之前那个国内资源分享群那个字幕应该还是有其独到之处的，至少它花了时间帮你做了时间轴的校准……</p><p>痛苦，好像我要想好好看一下这部剧只能靠字幕组的内嵌字幕版本了。然而筛选各种版本的熟肉也让人纠结，有些字幕组喜欢夹带各种奇怪的片头，或者把字幕做得很大占据过多空间，虽然如此，我没有责怪他们的意思，只是觉得这么多人在为了看电视剧这件简单的事情付出了很多努力，但这件事本身不应该变得这么困难。</p><h2 id="小结"><a href="#小结" class="headerlink" title="小结"></a>小结</h2><p>最后我还是回到了一开始的方案，通过流媒体解锁让我的Netflix节点能够观看自制剧以外的剧集，尽管gf在之前那次不成功的观看过后已经打消了继续看下去的念头，但我收获了一点欣慰，至少以后她如果再想看个什么，我可以有个相对稳定可靠的选项来满足她的需求。</p></body></html>]]></content>
    
    
    <summary type="html">虽然很久不追剧了，但直到1202年的这个冬天我发现看个剧还是一件很难的事情。</summary>
    
    
    
    
    <category term="流媒体" scheme="http://mykonakona.github.io/tags/%E6%B5%81%E5%AA%92%E4%BD%93/"/>
    
  </entry>
  
  <entry>
    <title>联想Yoga S740的糟心体验
</title>
    <link href="http://mykonakona.github.io/posts/2020-09-04/"/>
    <id>http://mykonakona.github.io/posts/2020-09-04/</id>
    <published>2020-09-04T14:32:00.000Z</published>
    <updated>2023-09-01T16:23:41.886Z</updated>
    
    <content type="html"><![CDATA[<html><head></head><body><p>没考虑换机之前，我手上服役的机器还是一台13年购买的Dell Vostro系列……</p><span id="more"></span><h2 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h2><p>这台古董的硬盘、风扇甚至于键盘C面和D壳都已经被我换了个遍，可能就还剩屏幕没有动过。以为修修补补还可以坚持一段时间，但机器开始出现漏电问题，终于让我萌生了换机想法。</p><p>决定购机之后，我开始分析自己的需求，大体有以下几点：</p><ul><li>能做中度的视频剪辑和渲染</li><li>可以玩得动文明6或者欧陆风云4</li><li>内存16G，便于开虚拟机；硬盘512G起步</li><li>屏幕大小在14寸以内，厚度小于2cm</li><li>可以180度开合</li><li>接口不能太简陋，得基本够用</li><li>较长的续航</li><li>不要太贵（笑</li><li>……</li></ul><p>中度的视频剪辑和游戏都对CPU有一定要求，不能太菜了，不然每次还得开远程连家里的电脑做剪辑，太麻烦。</p><p>内存16G是为了能多开几个虚拟机。14寸以内也基本限定只能在轻薄本里挑。180度开合算是我个人一个喜好吧，我觉得这样摊开之后插显示器比较方便。</p><p>当时只是在脑海里粗略地列了一下，但基本是冲着这个方向去选机的。其实现在想想十分后悔，应该直接换Macbook Pro，本来Win系列本也已经用到有点吐了，但最后还是没有走出这一步，果然还是穷。</p><h2 id="体验"><a href="#体验" class="headerlink" title="体验"></a>体验</h2><p>在各种奇奇怪怪的要求的引导下走进我视野的就是这台S740了。各种测评都有提到它的各种优点：</p><ul><li>3733Mhz的板载LPDDR4X内存，算是当前市面上笔记本所使用的最高频内存了</li><li>一块DC调光、72%NTSC、400nits的屏幕，素质相当好，并且这块屏是LTPS的低功耗屏，搭配62Wh的大容量电池，续航表现很不错</li><li>使用10代CPU，性能释放表现好</li><li>满血雷电3接口，WiFi6无线网卡</li></ul><p>那么实际上这台机器有没有各种测评说的这么好呢。从我自己的实际使用感受来看，这些优点是基本属实的。但这不意味着这台机器没有缺点了，事实上这台机器的缺点还不少：</p><p>首先，很不能让人忍受一点的就是这台机器的C面非常的尖锐，握持起来很不舒服。</p><p>其次，机器的键盘手感并没有一些测评里吹的那么好，虽然不算特别差，但击键的时候有时会出现卡键的情况。</p><p>另外这台机器的接口布局也不很合理，右边单独放了一个孤零零的USB，左边把电源口，雷电3接口，USB口和耳机口一股脑儿放在一起，使用时很拥挤。只配一个Type-C接口也显得很小气，多配一个把电源口砍掉不好么。</p><p>没有指纹解锁也是让人很费解的，我个人并不喜欢面部解锁，但因为这个原因也不得不用。</p><h2 id="售后"><a href="#售后" class="headerlink" title="售后"></a>售后</h2><p>在7月份左右的时候，掉盘了。虽然这台机器的SSD表现其实还是挺不错的，但这么快就掉盘实在是出乎我的意料。</p><p>没办法，只能联系联想上门维修。其实就是想着找它们免费换块盘。</p><p>等来了工程师上门，换完硬盘重装了系统，发现触摸板又不工作了……一般这种情况我们都会想着去找驱动装上，结果联想自己的官网上找不到相关的驱动。</p><p>这位联想工程师联系了自己的同事，说这款机器触摸板是免驱的，装上系统就能使用。结果他自己带来的系统又怎么装都不行……最后这位小哥问我之前的一次重装时用的是什么镜像，说要不你自己重装试试。弄得我也无语了……</p><p>后来的解决方案是把我的机器拿回了维修站，重装了一次出厂系统。触摸板的问题总算解决了。</p><p>感受就是联想内部管理挺混乱，虽然看起来他们自己有做移动端的知识库系统，但对自己新推的新机型的支持明显滞后。</p><p>包括一开始这位工程师想用PE进去机器看一看硬盘情况，结果发现自己的PE在这台机器上无法使用，换了好几套才进去，也给人感觉对新机型不熟悉。这次售后算是解决了问题，但体验还是很糟糕的。包括这台机器本身也给人一种不安定感。</p><h2 id="小结"><a href="#小结" class="headerlink" title="小结"></a>小结</h2><p>现在我也还在坚持用这台机器，因为这些缺点的存在，抵消了我对它优点的好感。用起来总是觉得不怎么舒服。</p><p>并且因为触摸板的缘故，只能继续用工作站重装的Win10家庭版，实在是痛苦，最大的感悟可能就是：下次换机我不会再想着省钱了。</p><h2 id="后续"><a href="#后续" class="headerlink" title="后续"></a>后续</h2><p>相当离谱，联想售后工程师在联想内部知识库找不到的触摸板驱动，我在联想美国官网找到了。</p><p>虽然当时他们非说是免驱版（包括我自己查了一些联想国内官网的说明也说触摸板是免驱，但实际上这个美国官网的触摸板驱动装完后我的触摸板就好了……）</p></body></html>]]></content>
    
    
    <summary type="html">在没有考虑换机之前，我手上服役的机器还是一台13年购买的Dell Vostro系列。这台机器的硬盘、风扇甚至于键盘C面和D壳都已经被我换了个遍，可能就还剩屏幕没有动过。以为修修补补还可以坚持一段时间，但这台机器开始出现漏电问题，终于让我萌生了换机想法。</summary>
    
    
    
    
    <category term="笔电" scheme="http://mykonakona.github.io/tags/%E7%AC%94%E7%94%B5/"/>
    
    <category term="数码" scheme="http://mykonakona.github.io/tags/%E6%95%B0%E7%A0%81/"/>
    
  </entry>
  
  <entry>
    <title>我搭静态博客
</title>
    <link href="http://mykonakona.github.io/posts/2020-05-27/"/>
    <id>http://mykonakona.github.io/posts/2020-05-27/</id>
    <published>2020-05-27T13:59:00.000Z</published>
    <updated>2023-09-01T16:23:41.886Z</updated>
    
    <content type="html"><![CDATA[<html><head></head><body><p>动态博客其实一直以来都很吸引我，为什么最后还是选择了静态博客？</p><span id="more"></span><p>事实上不久之前，我还试图搭建了最近比较火的halo。域名、证书签发、反代的配置等等都做好了。但经过一系列的折腾，最后还是回来重新使用github page。</p><p>做这个选择有个重要的理由——动态博客真的贵：好的域名需要钱，线路流畅的VPS也需要钱。廉价VPS服务商的线路一言难尽，反复的折腾让专注于记录本身变得困难。因此权衡下来我决定采用更具性价比的静态博客方案。</p><p>话虽如此，并不代表静态博客就完美无缺。相反，一些在动态博客中根本不能称之为问题的问题，在静态博客上就得通过各种“奇技淫巧”来解决。</p><p>因此本文基于hexo聊一聊在搭建过程中需要注意的点，同类型的生成器如pelican在使用中基本上围绕的也都是这些问题。</p><h2 id="自动化部署"><a href="#自动化部署" class="headerlink" title="自动化部署"></a>自动化部署</h2><p>现在流行的做法通过Travis CI自动部署github page，基本上都遵循如下步骤：</p><ol><li>新建一个<code>username.github.io</code>仓库，在github的<code>Settings - Developer settings - Personal access tokens</code>页面内为Travis CI新建一个github page专用，并赋予repo权限的access token；</li><li>使用github账号登陆Travis CI以完成账号关联，将access token作为<code>GH_TOKEN</code>加入到从github同步过去的仓库配置中，并在Travis CI中启用该仓库。</li><li>在本地安装npm、hexo。初始化hexo项目后，为本地项目添加.travis.yml，并完成_config.yml、.gitignore等相关配置；</li><li>为<code>username.github.io</code>新建一个<code>source</code>分支，将本地项目推送到这个source分支下。最终目的是让Travis CI根据source分支下.travis.yml中的设置的步骤生成静态文件，并把静态文件推送到<code>username.github.io</code>的<code>master</code>分支下。</li></ol><p>这部分的教程其实相当多了，如<a href="https://segmentfault.com/a/1190000021987832" title="Travis CI 加 Hexo 实现自动构建部署 Github Pages 博客">1</a>。在实际搭建时，可以根据自己的情况进行调整，并不需要照搬教程。</p><h2 id="主题开发"><a href="#主题开发" class="headerlink" title="主题开发"></a>主题开发</h2><p>如果你使用了比较成熟的主题，但又希望做一些个性化的定制，比较好的一种方式是把这个主题fork到自己的github账号下。并在本地环境中拉取fork的主题。这样做之后，本地的开发环境将会有两个仓库：</p><ul><li><p><code>username.github.io</code>的<code>source</code>分支</p></li><li><p><code>hexo-theme-themename</code>的<code>master</code>分支</p></li></ul><p>由于主题是一个独立分支，因此在自动部署时，一般会把<code>source</code>下的themes文件夹加入到这个分支的<code>.gitignore</code>里去，避免发生一些可能的修改冲突。</p><p>使用时，则通过在.travis.yml添加<code>git clone</code>命令引入主题并渲染，例如：</p><figure class="highlight bash hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">before_script:</span><br><span class="line">  - npm install -g hexo-cli </span><br><span class="line">  - <span class="hljs-built_in">mkdir</span> themes</span><br><span class="line">  - git <span class="hljs-built_in">clone</span> https://github.com/username/hexo-theme-themename.git themes/themename</span><br><span class="line"></span><br><span class="line">script: </span><br><span class="line">  - hexo generate</span><br></pre></td></tr></tbody></table></figure><h2 id="评论服务选型"><a href="#评论服务选型" class="headerlink" title="评论服务选型"></a>评论服务选型</h2><p>对动态博客来说几乎属于标配的评论功能，在静态博客上就得通过各种奇奇怪怪的方案去实现，并且往往还并不完美。我目前使用的主题minos支持的几种评论服务，就各自存在一些缺点：</p><h3 id="disqus"><a href="#disqus" class="headerlink" title="disqus"></a>disqus</h3><p>国内网络环境下的访问实在是太慢了，非常影响浏览体验。</p><ul><li><p>一种方式是把disqus隐藏在一个按钮中，相当于用户只有在点击该评论按钮后才会加载disqus，属于一个治标不治本的方案。</p></li><li><p>如果坚持使用disqus，可以考虑参考<a href="https://blog.skk.moe/post/prevent-disqus-from-slowing-your-site/#Disqus-Lazyload" title="使 Disqus 不再拖累性能和页面加载">2</a>，但我个人感觉还是会有拖慢。</p></li></ul><h3 id="gitment-gitalk"><a href="#gitment-gitalk" class="headerlink" title="gitment/gitalk"></a>gitment/gitalk</h3><p>单独为这类评论服务建一个存放issue仓库倒还不是最麻烦的地方，最麻烦的是每篇博文好像都得手动加issue，虽然github也有网友写了脚本完成这一工作，但易用性还是大大降低了。</p><p>另外gitment已经停止更新，一些常见问题如<a href="https://github.com/imsun/gitment/issues/100" title="总是提示 [object XMLHttpRequestProgressEvent] #100">object XMLHttpRequestProgressEvent</a>、<a href="https://github.com/imsun/gitment/issues/178" title="hexo博客的gitment评论开启一直失败">hexo上的开启失败</a>等只能通过网友提供的各种方案加以解决，这一点也十分劝退我。</p><h3 id="isso"><a href="#isso" class="headerlink" title="isso"></a>isso</h3><p>使用体验最好的一个，但并没有选用它。这实际上涉及的是一个理念问题：isso需要自行搭建，也就是说又得放在VPS上，那为什么不直接选用一个自带评论的动态博客方案呢，和我搭静态博客的出发点相矛盾。当然，对于不介意这点的朋友，这个服务还是推荐的。</p><h3 id="valine"><a href="#valine" class="headerlink" title="valine"></a>valine</h3><p>目前这个博客上部署的方案，没有上面一些比较恶心的问题。但leancloud这个服务能坚持多久是比较让我担心的地方……</p><p>综上所述，可以看到静态博客的评论实在是一大痛点。虽然有各种各样的解决方案，但始终只能算马马虎虎能用，难以达到动态博客的使用体验。</p><h2 id="搜索引擎收录及SEO优化"><a href="#搜索引擎收录及SEO优化" class="headerlink" title="搜索引擎收录及SEO优化"></a>搜索引擎收录及SEO优化</h2><p>目前google的网址前缀收录的推荐方式是通过校验html来完成，步骤可参考<a href="https://kennyliblog.nctu.me/2019/06/24/Google-search-Hexo-Blog/" title="實作 - 讓 Google 能搜尋到自己的 Hexo Blog">5</a>，SEO优化方面的文章也很多，如<a href="https://juejin.im/post/5ae7fc18518825672565a7f0#heading-4" title="Hexo 个人博客 SEO 优化（3）：改造你的博客，提升搜索引擎排名">6</a>，这里就不再赘述了。</p><h2 id="小结"><a href="#小结" class="headerlink" title="小结"></a>小结</h2><p>完成这些内容后，你的静态博客相当于拥有了基本的功能。后续包括<a href="https://dengcb.com/zh/hexo-minos-multi-language/" title="用Minos搭建Hexo全站多语言站点">全站多语言支持</a>、<a href="https://blog.skk.moe/post/img-lazyload-hexo/" title="图片 lazyload 的学问和在 Hexo 上的最佳实践">图片懒加载</a>等等，都是可以持续优化的方面。</p><p>当然，对于一个博客来说，最重要的永远是内容。希望大家不要被各种花俏的技巧蒙蔽了双眼，为了搭博客而搭博客。而是通过搭博客培养兴趣和动手能力，在兴趣驱动下，继续分享自己的思考与创意😁</p></body></html>]]></content>
    
    
    <summary type="html">做这个选择有个重要的理由——动态博客真的贵：好的域名需要钱，线路流畅的VPS也需要钱。廉价VPS服务商的线路一言难尽，反复的折腾让专注于记录本身变得困难。因此权衡下来我决定采用更具性价比的静态博客方案。</summary>
    
    
    
    
    <category term="静态博客" scheme="http://mykonakona.github.io/tags/%E9%9D%99%E6%80%81%E5%8D%9A%E5%AE%A2/"/>
    
    <category term="Hexo" scheme="http://mykonakona.github.io/tags/Hexo/"/>
    
  </entry>
  
</feed>
